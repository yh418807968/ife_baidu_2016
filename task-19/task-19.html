<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<style>
 button{
	 display:inline-block;
	 width:80px;
	 height:40px;}
ul{
   height:220px;
   display: flex;
   align-items: flex-end;}
li{
	list-style:none;
	width:20px;
	background:red;
	color:white;
	font-size:15px;
	text-align:center;
	float:left;
	margin:2px;
	text-align: -webkit-match-parent;
	}
</style>
</head>

<body>
<input type="text" id="num-input"/ >
<button type="button" id="leftIn">左侧入</button>
<button type="button" id="leftOut">左侧出</button>&nbsp;&nbsp;&nbsp;
<button type="button" id="rightIn">右侧入</button>
<button type="button" id="rightOut">右侧出</button>&nbsp;&nbsp;&nbsp;
<button type="button" id="sort-bubble">冒泡排序</button>
<button type="button" id="sort-quick">快速排序</button>&nbsp;&nbsp;&nbsp;
<button type="button" id="random">生成随机序列</button>

<ul id="list">
</ul>
<script>
var oul=document.getElementById("list");


function fnleftIn(){
	var num=document.getElementById("num-input").value;
	if(document.getElementsByTagName("li").length>60){alert("队列已满！")
	}else{
	if((/^[0-9]+$/).test(num)){
		if(num>100||num<10){alert("数字大小应在10-100范围内");
		}else{
	var oli=document.createElement("li");

	oul.insertBefore(oli,oul.firstChild);
	oli.innerHTML=num;
	oli.style.height=num*2+"px";
	}
	}else{
		alert("请输入数字字符！");
		
}
}

}

function fnleftOut(){
	var oul=document.getElementById("list");
	if(oul.childNodes.length==1){
		alert("队列为空！");
		}else{
	oul.removeChild(oul.firstChild);
		}
}
function fnrightIn(){
	var num=document.getElementById("num-input").value;
	if(document.getElementsByTagName("li").length>60){alert("队列已满！")
	}else{
	if((/^[0-9]+$/).test(num)){
	var oli=document.createElement("li");
	//var oul=document.getElementById("list");
	oul.appendChild(oli);
	oli.innerHTML=num;
    oli.style.height=num*2+"px";
	}else{
		alert("请输入数字字符！");
		}
	}

}
function fnrightOut(){
	//var oul=document.getElementById("list");
	if(oul.childNodes.length==1){
		alert("队列为空！");
		}else{
	oul.removeChild(oul.lastChild);
		}
}
function fnsortBubble(){
	var liList=document.getElementsByTagName("li");
	var list=[];
	for(var i=0;i<liList.length;i++){
		list[i]=[];
		list[i]=liList[i].childNodes[0].nodeValue;
		}
	
//	for(var i=0;i<oli.length;i++){
//		for(var j=0;j<oli.length-i;j++){
//			if(list[j]>list[j+1]){
//			var temp=list[j];
//			list[j]=list[j+1];
//			list[j+1]=temp;
//			}
//		oli[j].innerHTML=list[j];
//		oli[j].style.height=list[j]*2+"px";
//			}
//		
//	}
var m=0,n=0;
var timer=setInterval(function(){
	if(m<liList.length){
		if(n<liList.length-m-1){
	        if(list[n]>list[n+1]){
			  var temp=list[n];
			  list[n]=list[n+1];
			  list[n+1]=temp;
			  }
		      liList[n+1].innerHTML=list[n+1];
			  liList[n].innerHTML=list[n];
		      liList[n+1].style.height=list[n+1]*2+"px";
			  liList[n].style.height=list[n]*2+"px";
		      n++;
		}else{
			m++;
			n=0;
			}
	}else{
		clearInterval(timer);
		return;
		}
	},100);
}
			
function fnsortQuick(){
	var liList=document.getElementsByTagName("li");
	var list=[];
	for(var i=0;i<oli.length;i++){
		list[i]=[];
		list[i]=liList[i].childNodes[0].nodeValue;
		}
	
	}	
function fngenRandom(){
	var text="";
	var data=[];
	for(var i=0;i<=50;i++){
		
			data[i]=Math.floor(Math.random()*91+9);
			text+="<li>"+data[i]+"</li>";
			
		}
	//var oul=document.getElementById("list");
	oul.innerHTML=text;
	var liList=document.getElementsByTagName("li");
	for(var i=0;i<=liList.length;i++){
	//oli[i].innerHTML="<li>"+data[i]+"</li>";
	liList[i].style.height=liList[i].innerHTML*2+"px";
	}
		
	}



function init(){
	

	var leftIn=document.getElementById("leftIn");
	leftIn.onclick=fnleftIn;	
	var leftOut=document.getElementById("leftOut");
	leftOut.onclick=fnleftOut;	
	var rightIn=document.getElementById("rightIn");
	rightIn.onclick=fnrightIn;	
	var rightOut=document.getElementById("rightOut");
	rightOut.onclick=fnrightOut;	
	var sortBubble=document.getElementById("sort-bubble");
	sortBubble.onclick=fnsortBubble;
	var sortQuick=document.getElementById("sort-quick");
	sortQuick.onclick=fnsortQuick;
	var genRandom=document.getElementById("random");
	genRandom.onclick=fngenRandom;
	}
init();
</script>
</body>
</html>
